<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>calculator</title>
  <link rel="stylesheet" href="css/stylesheet.css">
  <script src="js/cals.js"></script>
</head>

<body>
  <div class="calculator">
    <div class="display">
      <input type="text" id="result" disabled>
    </div>
    <div class="buttons">
      <button class="operator" id="add">+</button>
      <button class="operator" id="subtract">-</button>
      <button class="operator" id="multiply">*</button>
      <button class="operator" id="divide">/</button>
      <button class="number" id="seven">7</button>
      <button class="number" id="eight">8</button>
      <button class="number" id="nine">9</button>
      <button class="number" id="four">4</button>
      <button class="number" id="five">5</button>
      <button class="number" id="six">6</button>
      <button class="number" id="one">1</button>
      <button class="number" id="two">2</button>
      <button class="number" id="three">3</button>
      <button class="number" id="zero">0</button>
      <button class="number" id="decimal">.</button>
      <button class="clear" id="clear">C</button>
      <button class="equal" id="equals">=</button>
    </div>
  </div>
</body>
<script>
  const result = document.getElementById("result");
  const buttons = document.querySelectorAll("button");

  buttons.forEach((button) => {
    button.addEventListener("click", () => {
      if (button.classList.contains("number")) {
        result.value += button.innerText;
      } else if (button.classList.contains("operator")) {
        result.value += ` ${button.innerText} `;
      } else if (button.classList.contains("clear")) {
        result.value = "";
      } else if (button.classList.contains("equal")) {
        try {
          const expression = result.value;
          const regex = /^(\d+(\.\d+)?\s*[\+\-\*\/]\s*)*\d+(\.\d+)?$/;
          if (!regex.test(expression)) {
            throw new Error("Invalid calculation format");
          }
          result.value = eval(expression);
        } catch (error) {
          result.value = "Error";
          console.error(error);
        }
      }
    });
  });

</script>

</html>